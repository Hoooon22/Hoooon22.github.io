---
layout: default
title: AWS (DVA) - Section 6
parent: AWS (DVA)
grand_parent: STUDY
---

# AWS Certified Developer Associate - Section 6 (EC2 인스턴스 스토리지 / EBS)
{: .no_toc }

## 2023.09.25 (MON) ~
{: .no_toc .text-delta }

---

# EC2 인스턴스 스토리지

---

## EBS 볼륨
    Elastic Block Store Volume

- 인스턴스가 실행 중인 동안 연결 가능한 네트워크 드라이브
- 인스턴스 종류된 후에도 데이터를 지속할 수 있다.
- EBS 볼륨을 생성할 때는 특정 가용 영역에서만 가능하다.
    - 스냅샷을 이용하면 다른 가용 영역으로 볼륨 옮기기 가능

EBS 볼륨 = 네트워크 USB 스틱

- 네트워크 드라이브로 EC2 인스턴스에서 분리될 수 있다.
- 볼륨이기에 용량을 미리 결정해야 한다.
- 인스턴스에 연결할 수 있어, 필요한 경우에만 연결한다.

EC2 인스턴스를 통해 EBS 볼륨을 생성하는 경우, 종료 시 삭제 속성
    - 기본 설정은 체크가 해제되어 있음 (인스턴스 root는 체크가 되어있음)

---

## EBS 볼륨 실습
- EBS 볼륨은 특정 가용 영역의 인스턴스에만 부착할 수 있다.

---

## EBS 스냅샷

- EBS 볼륨의 특정 시점에서의 백업
- 스탭샷을 다른 가용 영역 및 다른 리전에 복사할 수 있다.

### 스냅샷의 기능
1. 스냅샷 아카이브
    - 스냅샷을 최대 75% 더 저렴한 아카이브 디어로 옮기는 기능
2. EBS 스냅샷을 위한 휴지통을 만들기
    - 스냅샷을 영구적으로 삭제하는 대신, 휴지통에 보관
    - 실수로 삭제한 경우 복구 가능 (보관 기간 : 하루에서 1년 설정 가능)
3. 스냅샷 완전 초기화

---

## AMI
    Amazon Machine Image  
    = 사용자 지정 EC2 인스턴스

AMI를 생성하면 부팅과 구성에 시간이 단축된다.

### EC2 인스턴스의 AMI 처리

- 인스턴스를 시작하고, 이를 사용자 지정으로 바꾼다.
- 인스턴스를 중지시켜, 데이터 무결성을 확보한다.
- 다른 AMI에서 인스턴스를 실행할 수 있게 된다.

---

## EC2 Instance Store

EC2 인스턴스는 가상 머신이지만, 실제로는 하드웨어 서버에 연결되어 있고 물리적으로 연결된 디스크 공간을 갖는다.
따라서, 특정 유형의 EC2 인스턴스는 EC2 인스턴스 스토어라고 블린다.  

이 EC2 인스턴스 스토어는 I/O 성능 향상을 위해 활용할 수 있다.  
EC2 인스턴스 스토어 = 임시 스토리지  
장기 스토리지 경우, EBS가 적합  

---

## EBS 볼륨 유형

### EBS 볼륨에는 6가지 타입이 있다.

- gp2 / gp3 (SSD) : 범용 SSD 볼륨
- io1 / io2 (SSD) : 최고 성능 SSD 볼륨, 미션 크리티컬, 지연 시간 낮음, 대용량의 워크로드에 쓰인다.
- st1 (HDD) : 저비용의 HDD 볼륨
- sc1 (HDD) : 가장 비용이 적게 드는 HDD 볼륨

> 이 중, gp2/gp3, io1/io2만 부팅 볼륨으로 사용될 수 있다.

### EBS 볼륨 정의 방법

> 크기, 처리량, IOPS(초당 I/O 작업 수)

---

## 시험에선 범용 gp2와 IOPS 프로비저닝이 가장 중요한 내용

### gp2/gp3

짧은 지연 시간을 자랑하며, 효율적인 비용의 스토리지 

- gp3에선 IOPS와 처리량을 독자적으로 설정할 수 있다.
- gp2에선 그 둘이 연결되어 있다.

### IOPS 프로비저닝

> IOPS 성능을 유지할 필요가 있는 주요 비즈니스 애플리케이션이나, 16,000 IOPS 이상을 요구하는 애플리케이션에 적합

- 일반적으로 데이터베이스 워크로드에 알맞다.
- gp2/gp3에 -> io1 또는 io2 볼륨으로 바꾸면 된다.

io2는 io1과 동일한 비용에 내구성과 기가 당 IOPS의 수가 더 높다.
-> io2가 합리적

### st1, sc1

- 부팅 볼륨 X
- 빅데이터, 데이터 웨어하우징 로그 처리에 적합

---

## EBS 다중 연결

> 다중 연결 기능을 사용하면 동일한 EBS 볼륨을 동일한 가용영역에 있는 여러 개의 EC2 인스턴스에 첨부할 수 있다.

시험에 나오는 내용 : 하나의 볼륨은 한번에 최대 <span style="color:red">**16개**</span>의 EC2 인스턴스에 부착할 수 있다.

---

## Amazon EFS (탄력적 파일 시스템)

EFS: 관리형 NFS(네트워크 파일 시스템)  
네트워크 파일 시스템이기 때문에, 많은 EC2 인스턴스에 마운트 가능 (서로 다른 가용 영역도 가능)  

### 특징

- 가용성이 높다.
- 확장성이 높다.
- 비용은 gp2 볼륨의 3배이다.
  - 사용량에 따라 비용을 지불!!!!

### 사용처

1. 콘텐츠 관리
2. 웹 서비스
3. 데이터 공유
4. 워드 프레스

### 호환

이 기능은 Window가 아닌 Linux 기반 AMI와만 호환된다.

### 성능 및 스토리지 클래스

EFS 스케일에서는 수천 개의 동시 NFS 클라이언트와 10기가바이트 이상의 처리량이 가능하다.



