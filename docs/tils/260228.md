---
layout: default
title: TIL (26-02-28) - 리눅스 시스템 관리 문제풀이
parent: TIL
date: 2026-02-28 15:30:00
---

# Today I Learned - 리눅스 시스템 관리 문제풀이

{: .no_toc }

## 2026.02.28 (FRI)

{: .no_toc .txt-delta }

---

## 리눅스 시스템 관리

### 사용자 쿼터

사용자 쿼터는 사용자별로 디스크 사용량을 제한하는 기능이다.

- quota
- uqouta
- usrquota

### xfs_quota

```bash
xfs_quota -x -c '[내부 명령]' [마운트 지점]
```

### edquota

```bash
edquota -u [사용자명]
```

- '-t' : 유예 기간 설정
- '-p' : 템플릿 파일로 설정

### 기본 소스와 적용 대상

```bash
edquota -p [기준이 되는 사람] [적용받을 사람]
```

```bash
cp [중요한 원본] [새로 생길 사본]
```

### 쿼터 명령어 별 비교

| 구분        | 키워드             | repquota           | xfs_quota (report)     | quota -v |
| :---------- | :----------------- | :----------------- | :--------------------- | :------- |
| 상태 기호   | -- (유효함 표시)   | 없음               | 없음                   |
| 헤더 명칭   | Block limits       | "Used, Soft, Hard" | "Blocks, quota, limit" |
| 출력 범위   | 모든 사용자 (전체) | 모든 사용자 (전체) | 특정 사용자 1명        |
| 파일 시스템 | 주로 EXT4          | XFS 전용           | 공통                   |

### file 명령어

파일의 종류를 확인할 때 사용한다.

```bash
file [파일명]
```

### stat

파일의 정보를 확인할 때 사용한다.

타임스탬프를 확인 할 수 있다.

```bash
stat [파일명]
```

### find vs locate

| 구분        | find                              | locate                       |
| :---------- | :-------------------------------- | :--------------------------- |
| 검색 방식   | 실시간 하드디스크 검색            | 데이터베이스(DB) 검색        |
| 검색 속도   | 상대적으로 느림                   | 매우 빠름                    |
| 정확도      | 100% (최신 상태)                  | DB 업데이트 주기에 따라 다름 |
| 조건 설정   | 매우 상세함 (권한, 시간, 크기 등) | 주로 파일 이름 위주          |
| 시스템 부하 | 높음                              | 낮음                         |

### find 명령어 상세

`find` 명령어는 시스템 내의 파일과 디렉터리를 실시간으로 검색할 때 사용하며, 강력하고 다양한 조건 지정이 가능

#### 기본 구조

```bash
find [검색 대상 경로] [검색 조건] [동작]
```

- **[검색 대상 경로]**: 검색을 시작할 위치 (`/`, `.`, `/etc` 등)
- **[검색 조건]**: 이름, 크기, 권한 등 파일을 찾을 기준 (옵션)
- **[동작]**: 찾은 파일에 대해 수행할 명령 (출력, 삭제, 타 명령어 실행 등)

#### 1. 주요 검색 조건 (옵션)

- `-name [패턴]` : 지정한 패턴과 이름이 일치하는 파일 검색 (예: `*.txt`, 대소문자 구분함)
- `-iname [패턴]` : 대소문자를 구분하지 않고 이름으로 검색
- `-type [유형]` : 파일의 종류로 검색
  - `f` (일반 파일), `d` (디렉터리), `l` (심볼릭 링크), `b` (블록 디바이스) 등
- `-user [사용자명]` : 특정 소유자의 파일 검색
- `-group [그룹명]` : 특정 소유 그룹의 파일 검색
- `-size [크기]` : 파일 용량을 기준으로 검색 (단위: `c`(바이트), `k`(KB), `M`(MB), `G`(GB))
  - 예: `+20M` (20MB 이상), `-10M` (10MB 이하), `10M` (정확히 10MB)
- `-mtime [n]` : 파일의 마지막 수정 시간을 기준으로 검색 (단위: 일)
  - 예: `-7` (최근 7일 이내 수정됨), `+7` (7일 이전에 수정됨)
- `-perm [퍼미션]` : 파일의 지정된 접근 권한(예: `755`, `644`)으로 검색
- `-empty` : 크기가 0인 파일이나 비어 있는 디렉터리 검색

#### 2. 주요 동작 (Action 옵션)

검색에 성공한 파일들에 대해 어떻게 처리할지 결정

- `-print` : 검색 결과를 화면에 출력 (기본값이므로 생략 가능)
- `-ls` : 검색된 결과를 `ls -l` 명령과 유사한 상세 정보 형태로 출력
- `-delete` : 검색된 파일을 바로 삭제
- `-exec [명령어] {} \;` : 찾은 파일을 대상으로 지정한 다른 명령어를 실행
  - `{}` : `find`가 찾은 파일의 경로가 하나씩 차례대로 들어갈 빈 자리
  - `\;` : `-exec` 구문의 명령어 블록이 끝났음을 쉘에 알려주는 필수 기호입니다.
  - 사용 예시: `find . -name "*.bak" -exec rm {} \;` (현재 위치에서 `.bak` 파일을 찾아 모두 지움)

### cat -A

파일에서 사용된 모든 문자를 출력한다.

탭이나 줄바꿈 문자도 출력한다.

### cat < , >, >>

- `<` : 입력 리다이렉션
- `>` : 출력 리다이렉션 (덮어쓰기)
- `>>` : 출력 리다이렉션 (추가하기)
